
Requirements

1.  On start: if (clean == true || binaries out of date) then full build, else start server immediately.

    ==> If Mojo with a lifecycle, delays server start until plugin lifecycle phase is reached.

2.  If a pom file changes, must do full build:

    ==> Using a Mojo with a lifecycle: can lifecycle be re-executed?


TODO

[ ] Need "effective" pom, so somehow must get a org.apache.maven.project.MavenProject instance

    1. Be a Mojo
    2. Be an extension
    3. See how MavenCli builds it and replicate
    4. ?

[ ] Add debugger support


BuildLoop.Builder:

boolean clean;
boolean watchBinariesOnly;
Function<Path, Project> initialBuild;
Consumer<String>  stdOut;
Consumer<String>  stdErr;
Consumer<Boolean> onBuild;   // incremental
Consumer<Throwable> onBuildFailed;
...
